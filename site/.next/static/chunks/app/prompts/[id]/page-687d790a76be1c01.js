(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{8772:function(e,r,t){Promise.resolve().then(t.bind(t,3307))},3307:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return a}});var o=t(7437),i=t(2265),n=t(9376);function a(){let e=(0,n.useParams)(),[r,t]=(0,i.useState)(null),[a,d]=(0,i.useState)(!0),[l,s]=(0,i.useState)(null),[c,p]=(0,i.useState)({}),[m,h]=(0,i.useState)("");(0,i.useEffect)(()=>{e.id&&fetch("/api/prompts/".concat(e.id)).then(e=>{if(!e.ok)throw Error("Prompt not found");return e.json()}).then(e=>{t(e.prompt),h(e.prompt.template),d(!1)}).catch(e=>{s(e.message),d(!1)})},[e.id]);let u=(e,t)=>{let o={...c,[e]:t};if(p(o),r){let e=r.template;Object.entries(o).forEach(r=>{let[t,o]=r,i=RegExp("{{\\s*".concat(t,"\\s*}}"),"g");e=e.replace(i,o)}),h(e)}};return a?(0,o.jsx)("div",{children:"Loading prompt..."}):l?(0,o.jsxs)("div",{style:{backgroundColor:"#fee",padding:"1rem",borderRadius:"8px",border:"1px solid #fcc",color:"#c33"},children:["Error: ",l]}):r?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{marginBottom:"1rem"},children:(0,o.jsx)("a",{href:"/prompts",style:{color:"#0066cc",textDecoration:"none",fontSize:"0.875rem"},children:"â† Back to Prompts"})}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:[(0,o.jsx)("h1",{style:{margin:"0 0 1rem 0"},children:r.name}),r.description&&(0,o.jsx)("p",{style:{margin:"0 0 1.5rem 0",color:"#666",fontSize:"1.125rem",lineHeight:"1.5"},children:r.description}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"4px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Domain:"})," ",r.domain]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Variables:"})," ",r.variables.length]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Created:"})," ",new Date(r.createdAt).toLocaleString()]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Updated:"})," ",new Date(r.updatedAt).toLocaleString()]})]})]}),r.variables.length>0&&(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,o.jsx)("h2",{style:{margin:0},children:"Template Variables"}),(0,o.jsx)("button",{onClick:()=>{p({}),r&&h(r.template)},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem"},children:"Reset All"})]}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:r.variables.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#333",fontFamily:"monospace"},children:"{{".concat(e,"}}")}),(0,o.jsx)("input",{type:"text",value:c[e]||"",onChange:r=>u(e,r.target.value),placeholder:"Enter value for ".concat(e,"..."),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.875rem"}})]},e))})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h2",{style:{margin:"0 0 1rem 0"},children:r.variables.length>0?"Rendered Template":"Template"}),(0,o.jsx)("div",{style:{backgroundColor:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",fontFamily:"monospace",fontSize:"0.875rem",lineHeight:"1.6",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"70vh",border:"1px solid #e9ecef"},children:m}),(0,o.jsxs)("div",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"#999",textAlign:"right"},children:[m.length.toLocaleString()," characters"]}),(0,o.jsx)("div",{style:{marginTop:"1rem"},children:(0,o.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(m),alert("Template copied to clipboard!")},style:{backgroundColor:"#0066cc",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"bold"},children:"\uD83D\uDCCB Copy to Clipboard"})})]})]}):(0,o.jsx)("div",{children:"Prompt not found"})}},9376:function(e,r,t){"use strict";var o=t(5475);t.o(o,"useParams")&&t.d(r,{useParams:function(){return o.useParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8772)}),_N_E=e.O()}]);